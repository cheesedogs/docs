# NJUSE影院管理系统MAMS(Museum Activity Management System)用例文档

# V1.2 正式版

## 2019/03/17

## 更新历史

| 修改人员 | 日期 | 变更原因 | 版本号 |
| --- | --- | --- | --- |
| 许竣博 | 2019/03/17 | 最初的草稿 | V0.9 beta版 |
| 江辉 | 2019/03/19 | 统一文档格式 | V0.91 beta版 |
| 周际宇 | 2019/03/28 | 修改文档互评中对方指出的不合适的地方 | V1.0 正式版 |
| 刘涛 | 2019/05/12 | 增加第二、三阶段的管理员用例 | v1.11 内测版 |
| 江辉 | 2019/05/13 | 统一用例描述 | v1.12 内测版 |

## 目录

* [1.引言](#1%E5%BC%95%E8%A8%80)
  * [1.1 目标](#11-%E7%9B%AE%E6%A0%87)
  * [1.2 阅读说明](#12-%E9%98%85%E8%AF%BB%E8%AF%B4%E6%98%8E)
  * [1.3 参考文献](#13-%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE)
* [2.用例图](#2%E7%94%A8%E4%BE%8B%E5%9B%BE)
* [3.用例列表](#3%E7%94%A8%E4%BE%8B%E5%88%97%E8%A1%A8)
* [4.详细用例描述](#4%E8%AF%A6%E7%BB%86%E7%94%A8%E4%BE%8B%E6%8F%8F%E8%BF%B0)
  * [用例1 上架影片](#%E7%94%A8%E4%BE%8B1-%E4%B8%8A%E6%9E%B6%E5%BD%B1%E7%89%87)
  * [用例2 查看影片详情](#%E7%94%A8%E4%BE%8B2-%E6%9F%A5%E7%9C%8B%E5%BD%B1%E7%89%87%E8%AF%A6%E6%83%85)
  * [用例3 统计预售影片的想看人数](#%E7%94%A8%E4%BE%8B3-%E7%BB%9F%E8%AE%A1%E9%A2%84%E5%94%AE%E5%BD%B1%E7%89%87%E7%9A%84%E6%83%B3%E7%9C%8B%E4%BA%BA%E6%95%B0)
  * [用例4 标记某电影为想看](#%E7%94%A8%E4%BE%8B4-%E6%A0%87%E8%AE%B0%E6%9F%90%E7%94%B5%E5%BD%B1%E4%B8%BA%E6%83%B3%E7%9C%8B)
  * [用例5 搜索电影(日期，名称等)](#%E7%94%A8%E4%BE%8B5-%E6%90%9C%E7%B4%A2%E7%94%B5%E5%BD%B1%E6%97%A5%E6%9C%9F%E5%90%8D%E7%A7%B0%E7%AD%89)
* [5.需求分析模型](#5%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90%E6%A8%A1%E5%9E%8B)
  * [5.1 系统顺序图](#51-%E7%B3%BB%E7%BB%9F%E9%A1%BA%E5%BA%8F%E5%9B%BE)
    * [用例1 上架电影](#%E7%94%A8%E4%BE%8B1-%E4%B8%8A%E6%9E%B6%E7%94%B5%E5%BD%B1)
    * [用例2 查看影片详情](#%E7%94%A8%E4%BE%8B2-%E6%9F%A5%E7%9C%8B%E5%BD%B1%E7%89%87%E8%AF%A6%E6%83%85-1)
    * [用例3 统计预售影片想看人数](#%E7%94%A8%E4%BE%8B3-%E7%BB%9F%E8%AE%A1%E9%A2%84%E5%94%AE%E5%BD%B1%E7%89%87%E6%83%B3%E7%9C%8B%E4%BA%BA%E6%95%B0)
    * [用例4 标记影片为想看](#%E7%94%A8%E4%BE%8B4-%E6%A0%87%E8%AE%B0%E5%BD%B1%E7%89%87%E4%B8%BA%E6%83%B3%E7%9C%8B)
    * [用例5 搜索电影](#%E7%94%A8%E4%BE%8B5-%E6%90%9C%E7%B4%A2%E7%94%B5%E5%BD%B1)
  * [5.2 概念类图](#52-%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE)
    * [用例1 上架影片](#%E7%94%A8%E4%BE%8B1-%E4%B8%8A%E6%9E%B6%E5%BD%B1%E7%89%87)
    * [用例2 查看影片详情](#%E7%94%A8%E4%BE%8B2-%E6%9F%A5%E7%9C%8B%E5%BD%B1%E7%89%87%E8%AF%A6%E6%83%85)
    * [用例3 统计预售影片想看人数](#%E7%94%A8%E4%BE%8B3-%E7%BB%9F%E8%AE%A1%E9%A2%84%E5%94%AE%E5%BD%B1%E7%89%87%E6%83%B3%E7%9C%8B%E4%BA%BA%E6%95%B0)
    * [用例4 标记影片为想看](#%E7%94%A8%E4%BE%8B4-%E6%A0%87%E8%AE%B0%E5%BD%B1%E7%89%87%E4%B8%BA%E6%83%B3%E7%9C%8B)
    * [用例5 搜索电影](#%E7%94%A8%E4%BE%8B5-%E6%90%9C%E7%B4%A2%E7%94%B5%E5%BD%B1)
  * [5.3状态图](#53%E7%8A%B6%E6%80%81%E5%9B%BE)
    * [用例1 上架影片](#%E7%94%A8%E4%BE%8B1-%E4%B8%8A%E6%9E%B6%E5%BD%B1%E7%89%87)
    * [用例2 查看影片详情](#%E7%94%A8%E4%BE%8B2-%E6%9F%A5%E7%9C%8B%E5%BD%B1%E7%89%87%E8%AF%A6%E6%83%85)
    * [用例3 统计预售影片想看人数](#%E7%94%A8%E4%BE%8B3-%E7%BB%9F%E8%AE%A1%E9%A2%84%E5%94%AE%E5%BD%B1%E7%89%87%E6%83%B3%E7%9C%8B%E4%BA%BA%E6%95%B0)
    * [用例4 标记影片为想看](#%E7%94%A8%E4%BE%8B4-%E6%A0%87%E8%AE%B0%E5%BD%B1%E7%89%87%E4%B8%BA%E6%83%B3%E7%9C%8B)
    * [用例5 搜索电影](#%E7%94%A8%E4%BE%8B5-%E6%90%9C%E7%B4%A2%E7%94%B5%E5%BD%B1)

## 1.引言

本文档描述了影院活动管理系统的用户及管理者需求。开发小组的软件系统实现与验证工作都以此文档为依据。

本文档所包含的需求等级用数字表示，数值越高优先级越高。

本文档的内容可能在项目实施过程中发生变更，但是必须由项目小组成员发出变更请求，小组讨论，最终决定，建立持续有效的版本控制。

### 1.1 目标

本文档描述了影院活动管理系统的用户需求。

### 1.2 阅读说明

无

### 1.3 参考文献

1.IEEE std 1471-2000
2.《影院管理系统MAMS需求最新版0418》
3.丁二玉，刘钦.计算与软件工程（卷二）[M]机械工业出版社，2012：134~182
4.Frank Buschmann, Regine Meunier, Hans Rohnert, Peter Sommerlad, Micheael Stal.Pattern-Oriented Software Architecture Volume 1: A system of Patterns [M]机械工业出版社,2003

## 2.用例图

![](https://cdn.nlark.com/yuque/0/2019/png/291791/1553083674015-ed88f39f-1159-4a77-9887-4daf68fd8100.png#align=left&display=inline&height=531&originHeight=1025&originWidth=1440&size=0&status=done&width=746#align=left&display=inline&height=531&originHeight=1025&originWidth=1440&status=done&width=746)

## 3.用例列表

| 参与者 | 用例 |
| --- | --- |
| 观众 | 1.搜索电影             |
|  | 2.标记电影为想看 |
|  | 3.购买会员卡           |
|  | 4.查看会员卡 |
| | 5.充值会员卡 |
| | 6.查看历史充值信息 |
|  | 7.购买电影票 |
| | 8.查看已购电影票 |
| | 9.退票 |
| | 10.查看历史消费记录 |
| 观众、影院员工 | 11.查看电影详情 |
| 观众、影院员工 | 12.查看已上架电影列表 |
| 观众、影院员工 | 13.查看排片信息(影厅视角) |
| 观众、影院员工 | 14.查看排片信息(影片视角) |
| 影院员工 | 15.修改电影信息 |
| | 16.下架电影 |
| | 17.添加排片信息 |
| | 18.修改排片信息 |
| | 19.删除排片信息 |
| | 20.设置排片信息观众可见时间 |
| | 21.修改排片信息观众可见时间 |
| | 22.查看受欢迎电影 |
| | 23.查看所有电影累计票房 |
| | 24.查看某日各影片排片率 |
| | 25.查看所有电影某日上座率 |
| | 26.查看每日客单价 |
| | 27.发布优惠活动 |
| 管理员 | 28.上架电影 |
| | 29.影厅信息录入 |
| | 30.修改影厅信息 |
| | 31.发布会员卡优惠策略 |
| | 32.修改会员卡优惠策略 |
| | 33.赠送优惠券 |
| | 34.设置退票策略 |
| | 35.修改退票策略 |
| | 36.统计预售电影想看人数 |
| | 37.影院角色增删改查 |



## 4.详细用例描述


### 用例1 搜索电影(日期，名称等)

| ID       | 0001                                                         | 名称           | 搜索影片  |
| -------- | ------------------------------------------------------------ | -------------- | --------- |
| 创建者   | 周际宇                                                       | 最后一次更新者 | 周际宇    |
| 创建日期 | 2019/3/17                                                    | 最后更新日期   | 2019/5/12 |
| 参与者   | 观众，目标是能够根据所给关键字搜索电影并正确显示符合要求的影片的相关信息 |                |           |
| 触发条件 | 观众需要搜索影片                                             |                |           |
| 前置条件 | 电影已经更新                                                 |                |           |
| 后置条件 | 页面显示出观众查询电影的电影名称、日期、导演、编剧、演员、语言等信息 |                |           |
| 优先级   | <!----->                                                     |                |           |
| 正常流程 | 1、观众输入关键字                                            |                |           |
|          | 2、系统显示符合观众所给信息的影片，每项包括类型、名称、主演、电影宣传海报、想看人数 |                |           |
| 扩展流程 | 2a、没有符合观众所给信息的影片                               |                |           |
|          | 1、系统提示顾客确认所给信息是否正确                          |                |           |
| 特殊需求 | 无                                                           |                |           |



### 用例2 标记某电影为想看

| ID | 0002 | 名称 | 标记影片为想看 |
| --- | --- | --- | --- |
| 创建者 | 刘涛 | 最后一次更新者 | 周际宇 |
| 创建日期 | 2019/3/18 | 最后更新日期 | 2019/5/12 |
| 参与者 | 观众，目的是标记自己想看的电影 |  |  |
| 触发条件 | 观众想标记电影为想看 |  |  |
| 前置条件 | 无                                      |  |  |
| 后置条件 | 电影被标记为想看 |  |  |
| 优先级 | <!--  --> |  |  |
| 正常流程 | 1、用户选择一部电影查看详情，并标记想看 |  |  |
|          | 2、系统显示已标记，并修改状态为想看     |  |  |
| 扩展流程 | 1a、用户选择标记的电影已经被标记        |                |                |
|          | 1、系统显示取消标记                     |                |                |
| 特殊需求 | 无 |  |  |



### 用例3 购买会员卡

| ID       | 0003                                                        | 名称             | 购买会员卡 |
| -------- | ----------------------------------------------------------- | ---------------- | ---------- |
| 创建者   | 周际宇                                                      | 最后一次更新者   | 周际宇     |
| 创建日期 | 2019/5/12                                                   | 最后一次更新日期 | 2019/5/12  |
| 参与者   | 观众，目标是购买会员卡                                      |                  |            |
| 触发条件 | 用户需要购买会员卡                                          |                  |            |
| 前置条件 | 无                                                          |                  |            |
| 后置条件 | 用户成为VIP，并拥有唯一的VIPID                              |                  |            |
| 优先级   | <!--    -->                                                 |                  |            |
| 正常流程 | 1、用户点击购买会员卡                                       |                  |            |
|          | 2、系统显示会员卡特权信息，包括会员卡种类、价格和优惠信息等 |                  |            |
|          | 3、用户确认信息后再次点击购买                               |                  |            |
|          | 4、系统提示用户确认订单                                     |                  |            |
|          | 5、用户确认订单                                             |                  |            |
|          | 6、系统显示订单信息并用户支付                               |                  |            |
|          | 7、用户确认信息，输入密码并支付                             |                  |            |
|          | 8、系统显示更新后的会员卡信息                               |                  |            |
| 扩展流程 | 3a、用户取消购买                                            |                  |            |
|          | 1、  系统返回正常流程1                                      |                  |            |
|          | 5a、用户取消订单                                            |                  |            |
|          | 1、返回正常流程2                                            |                  |            |
|          | 7a、用户输入的密码错误                                      |                  |            |
|          | 1、系统提示用户重新输入密码                                 |                  |            |
|          | 7b、用户选择稍后支付                                        |                  |            |
|          | 1、订单保留待支付状态15分钟                                 |                  |            |
|          | 2、超时未支付则自动取消                                     |                  |            |
|          | 7c、用户余额不足                                            |                  |            |
|          | 1、系统提示用户余额不足                                     |                  |            |
| 特殊需求 | 无                                                          |                  |            |



### 用例4 查看会员卡

| ID       | 0004                                                         | 名称             | 查看会员卡 |
| -------- | ------------------------------------------------------------ | ---------------- | ---------- |
| 创建者   | 周际宇                                                       | 最后一次更新者   | 周际宇     |
| 创建日期 | 2019/5/12                                                    | 最后一次更新日期 | 2019/5/12  |
| 参与者   | 观众，目标是查看自己的会员卡信息                             |                  |            |
| 触发条件 | 用户需要查看会员卡                                           |                  |            |
| 前置条件 | 用户已经购买会员卡                                           |                  |            |
| 后置条件 | 系统跳转到包含会员卡信息的页面，其中信息包括会员卡号、入会日期、充值优惠、优惠券、余额等信息 |                  |            |
| 优先级   | <!--   -->                                                   |                  |            |
| 正常流程 | 1、用户查看会员卡                                            |                  |            |
|          | 2、系统显示该用户的会员信息，包括会员卡号、入会日期、充值优惠、优惠券、余额等 |                  |            |
| 扩展流程 | 1a、用户没有购买会员卡                                       |                  |            |
|          | 1、系统提示用户没有购买过会员卡                              |                  |            |
| 特殊需求 | 无                                                           |                  |            |



### 用例5 充值会员卡

| ID       | 0005                                          | 名称             | 充值会员卡 |
| -------- | --------------------------------------------- | ---------------- | ---------- |
| 创建者   | 周际宇                                        | 最后一次更新者   | 周际宇     |
| 创建日期 | 2019/5/12                                     | 最后一次更新日期 | 2019/5/12  |
| 参与者   | 观众，目标是为自己的会员卡充值                |                  |            |
| 触发条件 | 用户需要充值会员卡                            |                  |            |
| 前置条件 | 用户已经购买会员卡                            |                  |            |
| 后置条件 | 用户的会员卡余额增加                          |                  |            |
| 优先级   | <!--  -->                                     |                  |            |
| 正常流程 | 1、系统显示会员卡信息                         |                  |            |
|          | 2、用户点击充值                               |                  |            |
|          | 3、系统提示用户选择充值金额                   |                  |            |
|          | 4、用户点击充值金额或输入充值金额             |                  |            |
|          | 5、系统显示订单信息，包括充值金额、支付金额等 |                  |            |
|          | 6、用户确认订单并支付                         |                  |            |
|          | 7、系统显示更新后的会员卡信息                 |                  |            |
| 扩展流程 | 3a、用户取消充值                              |                  |            |
|          | 1、系统返回正常流程1                          |                  |            |
|          | 6a、用户取消订单                              |                  |            |
|          | 1、系统返回正常流程3                          |                  |            |
|          | 6b、用户输入密码错误                          |                  |            |
|          | 1、系统提示用户密码错误并要求用户重新输入     |                  |            |
|          | 6c、用户余额不足                              |                  |            |
|          | 1、系统提示用户余额不足                       |                  |            |
|          | 6d、用户选择稍后支付                          |                  |            |
|          | 1、订单保留待支付状态15分钟                   |                  |            |
|          | 2、超时未支付则自动取消订单                   |                  |            |
| 扩展流程 | 无                                            |                  |            |



### 用例6 查看历史充值信息

| ID       | 0006                         | 名称             | 查看历史充值信息 |
| -------- | ---------------------------- | ---------------- | ---------------- |
| 创建者   | 周际宇                       | 最后一次更新者   | 周际宇           |
| 创建日期 | 2019/5/12                    | 最后一次更新日期 | 2019/5/12        |
| 参与者   | 观众，目标是查看历史充值信息 |                  |                  |
| 触发条件 | 用户需要查看历史充值信息     |                  |                  |
| 前置条件 | 无                           |                  |                  |
| 后置条件 | 无                           |                  |                  |
| 优先级   | <!--   -->                   |                  |                  |
| 正常流程 | 1、用户点击查看历史充值信息  |                  |                  |
|          | 2、系统显示历史充值信息      |                  |                  |
| 扩展流程 | 2a、用户没有充值历史         |                  |                  |
|          | 1、系统提示用户没有充值历史  |                  |                  |
| 特殊需求 | 无                           |                  |                  |



### 用例7 购买电影票

| ID       | 0007                                                         | 名称             | 购买电影票 |
| -------- | ------------------------------------------------------------ | ---------------- | ---------- |
| 创建者   | 周际宇                                                       | 最后一次更新者   | 周际宇     |
| 创建日期 | 2019/5/12                                                    | 最后一次更新日期 | 2019/5/12  |
| 参与者   | 观众，目标是购买电影票                                       |                  |            |
| 触发条件 | 用户需要购买电影票                                           |                  |            |
| 前置条件 | 无                                                           |                  |            |
| 后置条件 | 用户成功购买电影票                                           |                  |            |
| 优先级   | <!--   -->                                                   |                  |            |
| 正常流程 | 1、用户点击购买电影票                                        |                  |            |
|          | 2、系统显示影院的某一电影场次信息，包括放映时间、电影时长、放映厅、票价等信息 |                  |            |
|          | 3、用户点击购票                                              |                  |            |
|          | 4、系统显示选座信息                                          |                  |            |
|          | 5、用户选座并确认下单                                        |                  |            |
|          | 6、系统显示电影的名称、场次、票价、张数、总价等信息，自动选择最优策略并锁座 |                  |            |
|          | 7、用户确认订单                                              |                  |            |
|          | 8、系统提示用户支付                                          |                  |            |
|          | 9、用户输入密码并支付                                        |                  |            |
|          | 10、系统显示电影票购买成功，并显示电影的名称、场次等信息     |                  |            |
| 扩展流程 | 5a、用户取消购票                                             |                  |            |
|          | 1、系统返回正常流程1                                         |                  |            |
|          | 7a、用户取消订单                                             |                  |            |
|          | 1、系统取消锁座并返回到正常流程3                             |                  |            |
|          | 9a、用户取消订单                                             |                  |            |
|          | 1、系统取消锁座并返回正常流程3                               |                  |            |
|          | 9b、用户密码输入错误                                         |                  |            |
|          | 1、系统提示用户密码错误并要求用户重新输入                    |                  |            |
|          | 9c、用户选择稍后支付                                         |                  |            |
|          | 1、订单保留待支付状态15分钟                                  |                  |            |
|          | 2、超时未支付则自动取消订单                                  |                  |            |
| 特殊需求 | 无                                                           |                  |            |



### 用例8 查看已购电影票

| ID       | 0008                                                         | 名称             | 查看已购电影票 |
| -------- | ------------------------------------------------------------ | ---------------- | -------------- |
| 创建者   | 周际宇                                                       | 最后一次更新者   | 周际宇         |
| 创建日期 | 2019/5/12                                                    | 最后一次更新日期 | 2019/5/12      |
| 参与者   | 观众，目标是查看已购电影票                                   |                  |                |
| 触发条件 | 用户点击查看已购电影票                                       |                  |                |
| 前置条件 | 无                                                           |                  |                |
| 后置条件 | 无                                                           |                  |                |
| 优先级   | <!--   -->                                                   |                  |                |
| 正常流程 | 1、用户点击查看已购电影票                                    |                  |                |
|          | 2、系统显示已购的电影票列表，每张电影票内容包括：电影名、电影开始时间、影厅名称、结束时间、票价、座位号（排号和列号），付款状态（支付成功和未成功） |                  |                |
| 扩展流程 | 2a、用户没有已购电影票                                       |                  |                |
|          | 1、系统提示用户没有已购电影票                                |                  |                |
| 特殊需求 | 无                                                           |                  |                |



### 用例9 退票

| ID       | 0009                                        | 名称             | 退票      |
| -------- | ------------------------------------------- | ---------------- | --------- |
| 创建者   | 周际宇                                      | 最后一次更新者   | 周际宇    |
| 创建日期 | 2019/5/12                                   | 最后一次更新日期 | 2019/5/12 |
| 参与者   | 观众，目标是退票                            |                  |           |
| 触发条件 | 用户点击退票                                |                  |           |
| 前置条件 | 订单已支付且未出票                          |                  |           |
| 后置条件 | 用户退票成功                                |                  |           |
| 优先级   | <!--  -->                                   |                  |           |
| 正常流程 | 1、用户点击退票                             |                  |           |
|          | 2、系统显示票的信息，包括金额、时间、场次等 |                  |           |
|          | 3、用户确认退票                             |                  |           |
|          | 4、系统取消锁座，并返还用户相应款项         |                  |           |
| 扩展流程 | 2a、用户已取票或票已过期                    |                  |           |
|          | 1、系统提示用户退票失败                     |                  |           |
|          | 3a、用户取消退票                            |                  |           |
|          | 1、系统返回正常流程1                        |                  |           |
| 特殊需求 | 无                                          |                  |           |



### 用例10 查看历史消费记录

| ID       | 0010                             | 名称             | 查看历史消费记录 |
| -------- | -------------------------------- | ---------------- | ---------------- |
| 创建者   | 周际宇                           | 最后一次更新者   | 周际宇           |
| 创建日期 | 2019/5/12                        | 最后一次更新日期 | 2019/5/12        |
| 参与者   | 观众，目标是查看历史消费记录     |                  |                  |
| 触发条件 | 用户需要查看历史消费记录         |                  |                  |
| 前置条件 | 无                               |                  |                  |
| 后置条件 | 无                               |                  |                  |
| 优先级   | <!---->                          |                  |                  |
| 正常流程 | 1、用户点击查看历史消费记录      |                  |                  |
|          | 2、系统显示用户历史消费记录      |                  |                  |
| 扩展流程 | 2a、系统提示用户没有历史消费记录 |                  |                  |
| 特殊需求 | 无                               |                  |                  |



### 用例11 查看电影详情

| ID       | 0011                                                         | 名称             | 查看电影详情 |
| -------- | ------------------------------------------------------------ | ---------------- | ------------ |
| 创建者   | 许竣博                                                       | 最后一次更新者   | 周际宇       |
| 创建日期 | 2019/3/18                                                    | 最后一次更新日期 | 2019/5/13    |
| 参与者   | 观众，目标是查看电影详情                                     |                  |              |
| 触发条件 | 用户需要查看电影详情                                         |                  |              |
| 前置条件 | 电影已经更新                                                 |                  |              |
| 后置条件 | 无                                                           |                  |              |
| 优先级   | <!--  -->                                                    |                  |              |
| 正常流程 | 1、用户选择一部影片并点击查看详情                            |                  |              |
|          | 2、系统显示电影的详细资料，包括名称、电影宣传海报、导演、编剧、主演、类型、制片国家/地区、语言、上映日期、片长 |                  |              |
| 扩展流程 | 无                                                           |                  |              |
| 特殊需求 | 无                                                           |                  |              |



### 用例12 查看已上架电影列表

| ID       | 0012                                                         | 名称           | 查看已上架电影列表 |
| -------- | ------------------------------------------------------------ | -------------- | ------------------ |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉               |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12          |
| 参与者   | 观众，目的是了解已上架了哪些电影<br />影院员工，目的是查看已上架电影的列表信息，为排片、优惠活动等决策作参考 |                |                    |
| 触发条件 | 用户想要查看已上架电影列表                                   |                |                    |
| 前置条件 | 1、用户身份为总经理<br />2、最新市场调研结果已出<br />3、总经理决定上架影片 |                |                    |
| 后置条件 | 无                                                           |                |                    |
| 优先级   | 1000                                                         |                |                    |
| 正常流程 | 1、用户请求查看已上架电影列表                                |                |                    |
|          | 2、系统显示电影列表                                          |                |                    |
| 扩展流程 | 无                                                           |                |                    |
| 特殊需求 | 电影列表中每个电影都要显示包括其名称、电影宣传海报、主演、上映日期等简单资料 |                |                    |



### 用例13 查看排片信息(影厅视角)

| ID       | 0013                                                         | 名称           | 查看排片信息(影厅视角) |
| -------- | ------------------------------------------------------------ | -------------- | ---------------------- |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉                   |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12              |
| 参与者   | 观众，目的是了解某影厅的排片信息<br />影院员工，目的是查看某影厅的排片信息 |                |                        |
| 触发条件 | 用户需要查看某影厅的排片信息                                 |                |                        |
| 前置条件 | 无                                                           |                |                        |
| 后置条件 | 无                                                           |                |                        |
| 优先级   | 1000                                                         |                |                        |
| 正常流程 | 1、用户请求从影厅视角查看排片信息                            |                |                        |
|          | 2、系统提供可选影厅列表并提示用户选择影厅和日期              |                |                        |
|          | 3、用户选择想要查看的影厅和日期                              |                |                        |
|          | 4、系统根据用户的选择展示该日期下该影厅的排片信息表          |                |                        |
| 扩展流程 | 无                                                           |                |                        |
| 特殊需求 | 选择日期时（默认当天），可以选择日期区间或具体日期，选择影厅时（默认全部），可以选择全部影厅或某具体影厅。如：选择2019-04-01到2019-04-08区间全部影厅的排片信息<br />排片信息表字段定义：影厅名，影片名，放映开始时间，放映结束时间，票价 |                |                        |



### 用例14 查看排片信息(影片视角)

| ID       | 0014                                                         | 名称           | 查看排片信息(影片视角) |
| -------- | ------------------------------------------------------------ | -------------- | ---------------------- |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉                   |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12              |
| 参与者   | 观众，目的是了解某影片在各影厅的排片信息<br />影院员工，目的是查看某影片在各影厅的排片信息 |                |                        |
| 触发条件 | 用户需要查看某影片在各影厅的排片信息                         |                |                        |
| 前置条件 | 1、目标影片在系统中存在                                      |                |                        |
| 后置条件 | 无                                                           |                |                        |
| 优先级   | 1000                                                         |                |                        |
| 正常流程 | 1、用户请求从影厅视角查看排片信息                            |                |                        |
|          | 2、系统显示所有有排片的电影并提示用户选择需要查看的电影      |                |                        |
|          | 3、用户选择想要查看的电影                                    |                |                        |
|          | 4、系统展示该电影在各影厅的排片信息表                        |                |                        |
| 扩展流程 | 无                                                           |                |                        |
| 特殊需求 | 排片信息表字段定义：影厅名，影片名，放映开始时间，放映结束时间，票价 |                |                        |



### 用例15 修改电影信息

| ID       | 0015                                                         | 名称           | 修改电影信息 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉         |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12    |
| 参与者   | 影院员工，目的是往系统中添加需要上架的影片信息               |                |              |
| 触发条件 | 影院员工需要修改某个电影的信息                               |                |              |
| 前置条件 | 1、用户身份为影院员工<br />2、目标影片在系统中存在           |                |              |
| 后置条件 | 1、系统中目标电影的信息发生预期中的更改                      |                |              |
| 优先级   | 1000                                                         |                |              |
| 正常流程 | 1、用户请求修改电影信息                                      |                |              |
|          | 2、系统提示用户选择需要修改的电影并填写修改信息              |                |              |
|          | 3、用户选择要修改的电影填写修改信息完毕后确认                |                |              |
|          | 4、系统提示修改成功                                          |                |              |
| 扩展流程 | 3a、用户选择要修改的电影已有观众买票还没观看或后续还有排片的 |                |              |
|          | 1、系统提示无法修改                                          |                |              |
|          | 2、用户确认并返回步骤1                                       |                |              |
| 特殊需求 | 无                                                           |                |              |



### 用例16 下架电影

| ID       | 0016                                                         | 名称           | 修改电影信息 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉         |
| 创建日期 | 2019/5/13                                                    | 最后更新日期   | 2019/5/13    |
| 参与者   | 影院员工，目的是将热度减退的影片及时下架                     |                |              |
| 触发条件 | 影院员工需要下架某个电影                                     |                |              |
| 前置条件 | 1、用户身份为影院员工<br />2、目标影片在系统中已上架         |                |              |
| 后置条件 | 1、系统中目标电影被下架                                      |                |              |
| 优先级   | 1000                                                         |                |              |
| 正常流程 | 1、用户请求下架电影                                          |                |              |
|          | 2、系统提示用户选择需要下架的电影                            |                |              |
|          | 3、用户选择需要下架的电影并确认                              |                |              |
|          | 4、系统提示下架成功                                          |                |              |
| 扩展流程 | 3a、用户选择要下架的电影已有观众买票还没观看或后续还有排片的 |                |              |
|          | 1、系统提示无法下架                                          |                |              |
|          | 2、用户确认并返回步骤第2步                                   |                |              |
| 特殊需求 | 无                                                           |                |              |



### 用例17 添加排片信息

| ID       | 0017                                                   | 名称           | 添加排片信息 |
| -------- | ------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 江辉                                                   | 最后一次更新者 | 江辉         |
| 创建日期 | 2019/5/12                                              | 最后更新日期   | 2019/5/12    |
| 参与者   | 影院员工，目的是往系统中添加排片信息                   |                |              |
| 触发条件 | 影院员工根据安排需要添加排片信息                       |                |              |
| 前置条件 | 1、用户身份为影院员工                                  |                |              |
| 后置条件 | 1、系统中增加相应的排片信息                            |                |              |
| 优先级   | 1000                                                   |                |              |
| 正常流程 | 1、用户请求添加排片信息                                |                |              |
|          | 2、系统提示用户选择日期和影厅                          |                |              |
|          | 3、用户选择日期和影厅并确认                            |                |              |
|          | 4、系统展示该日期下该影厅可供排片的时间段和影片列表    |                |              |
|          | 5、用户选择时间段和影片，并填写票价后确认              |                |              |
|          | 6、系统提示添加成功                                    |                |              |
| 扩展流程 | 5a、用户选择的时间段与已经排片的其他影片放映时间段冲突 |                |              |
|          | 1、系统提示时间冲突，请用户重新选择，返回正常流程第5步 |                |              |
| 特殊需求 | 无                                                     |                |              |



### 用例18 修改排片信息

| ID       | 0018                                                         | 名称           | 修改排片信息 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉         |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12    |
| 参与者   | 影院员工，目的是修改系统中指定排片信息                       |                |              |
| 触发条件 | 影院员工根据安排需要修改排片信息                             |                |              |
| 前置条件 | 1、用户身份为影院员工<br />2、系统中有排片信息               |                |              |
| 后置条件 | 1、系统中相应的排片信息发送预期中的修改                      |                |              |
| 优先级   | 1000                                                         |                |              |
| 正常流程 | 1、用户请求修改排片信息                                      |                |              |
|          | 2、系统提示用户选择日期和影厅                                |                |              |
|          | 3、用户选择日期和影厅并确认                                  |                |              |
|          | 4、系统展示该日期下该影厅已有的排片信息列表                  |                |              |
|          | 5、用户选择修改某时间段的排片信息                            |                |              |
|          | 6、系统提示修改成功                                          |                |              |
| 扩展流程 | 2a、当前时间不早于排片信息对观众可见时间                     |                |              |
|          | 1、系统提示观众已可见，无法修改                              |                |              |
|          | 5a、用户选择修改该排片的放映时间段                           |                |              |
|          | 1、系统提示用户重新选择时间段                                |                |              |
|          | 2、用户选择并确认                                            |                |              |
|          | 2a、用户选择的时间段与其他排片的时间段冲突                   |                |              |
|          | 1、系统提示时间冲突返回扩展流程5a、1步                       |                |              |
|          | 2b、用户选择的时间段小于当前影片的放映时长                   |                |              |
|          | 1、系统提示时间段时间段不得小于影片时长，返回扩展流程5a、1步 |                |              |
|          | 5b、用户输入的新时间段时长小于当前影片放映时长               |                |              |
|          | 1、系统展示所有可供排片的影片信息                            |                |              |
|          | 2、用户选择影片并确认                                        |                |              |
|          | 2a、用户选择的影片放映时长大于当前时间段                     |                |              |
|          | 1、系统提示时间段不得小于影片时长，返回扩展流程5b、2         |                |              |
| 特殊需求 | 无                                                           |                |              |



### 用例19 删除排片信息

| ID       | 0019                                                      | 名称           | 删除排片信息 |
| -------- | --------------------------------------------------------- | -------------- | ------------ |
| 创建者   | 江辉                                                      | 最后一次更新者 | 江辉         |
| 创建日期 | 2019/5/12                                                 | 最后更新日期   | 2019/5/12    |
| 参与者   | 影院员工，目的是删除系统指定的排片信息                    |                |              |
| 触发条件 | 用户根据安排需要删除某排片信息                            |                |              |
| 前置条件 | 1、用户身份为影院员工<br />2、系统中有排片信息            |                |              |
| 后置条件 | 1、系统中目标排片信息被删除                               |                |              |
| 优先级   | 1000                                                      |                |              |
| 正常流程 | 1、用户请求删除排片信息                                   |                |              |
|          | 2、系统提示用户选择日期和影厅                             |                |              |
|          | 3、用户选择日期和影厅并确认                               |                |              |
|          | 4、系统展示该日期下该影厅的已排片信息                     |                |              |
|          | 5、用户选择删除某时间段的排片信息                         |                |              |
|          | 6、系统询问用户是否确认删除                               |                |              |
|          | 7、用户确认删除                                           |                |              |
|          | 8、系统提示删除成功                                       |                |              |
| 扩展流程 | 2a、当前时间不早于排片信息对观众可见时间                  |                |              |
|          | 1、系统提示当前时间不早于排片信息对观众可见时间，无法删除 |                |              |
|          | 7a、用户选择取消                                          |                |              |
|          | 1、返回正常流程第4步                                      |                |              |
| 特殊需求 | 无                                                        |                |              |



### 用例20 设置排片信息观众可见时间

| ID       | 0020                                                       | 名称           | 设置排片信息观众可见时间 |
| -------- | ---------------------------------------------------------- | -------------- | ------------------------ |
| 创建者   | 江辉                                                       | 最后一次更新者 | 江辉                     |
| 创建日期 | 2019/5/12                                                  | 最后更新日期   | 2019/5/12                |
| 参与者   | 影院员工，目的是在系统中设置排片信息观众可见时间           |                |                          |
| 触发条件 | 影院员工根据安排需要设置排片信息观众可见时间               |                |                          |
| 前置条件 | 1、用户身份为影院员工<br />2、系统中有排片信息             |                |                          |
| 后置条件 | 1、系统中排片信息观众可见时间发生预期中的更改              |                |                          |
| 优先级   | 1000                                                       |                |                          |
| 正常流程 | 1、用户请求设置某日期或日期区间排片信息对观众可见时间      |                |                          |
|          | 2、系统提示用户输入可见时间                                |                |                          |
|          | 3、用户输入并确认                                          |                |                          |
|          | 4、系统提示设置成功                                        |                |                          |
| 扩展流程 | 4a、用户输入时间晚于排片的日期                             |                |                          |
|          | 1、系统提示输入时间晚于排片日期，返回正常流程第2步         |                |                          |
|          | 4b、用户输入时间晚于排片的开始放映时间                     |                |                          |
|          | 1、系统提示输入时间晚于排片开始放映时间，返回正常流程第2步 |                |                          |
| 特殊需求 | 无                                                         |                |                          |



### 用例21 修改排片信息观众可见时间

| ID       | 0021                                                       | 名称           | 修改排片信息观众可见时间 |
| -------- | ---------------------------------------------------------- | -------------- | ------------------------ |
| 创建者   | 江辉                                                       | 最后一次更新者 | 江辉                     |
| 创建日期 | 2019/5/12                                                  | 最后更新日期   | 2019/5/12                |
| 参与者   | 影院员工，目的是在系统中修改排片信息观众可见时间           |                |                          |
| 触发条件 | 影院员工根据安排需要修改排片信息观众可见时间               |                |                          |
| 前置条件 | 1、用户身份为影院员工<br />2、系统中有排片信息             |                |                          |
| 后置条件 | 1、系统中排片信息观众可见时间发生预期中的更改              |                |                          |
| 优先级   | 1000                                                       |                |                          |
| 正常流程 | 1、用户请求修改某日期或日期区间排片信息对观众可见时间      |                |                          |
|          | 2、系统提示用户输入可见时间                                |                |                          |
|          | 3、用户输入并确认                                          |                |                          |
|          | 4、系统提示设置成功                                        |                |                          |
| 扩展流程 | 4a、用户输入时间晚于排片的日期                             |                |                          |
|          | 1、系统提示输入时间晚于排片日期，返回正常流程第2步         |                |                          |
|          | 4b、用户输入时间晚于排片的开始放映时间                     |                |                          |
|          | 1、系统提示输入时间晚于排片开始放映时间，返回正常流程第2步 |                |                          |
| 特殊需求 | 无                                                         |                |                          |



### 用例22 查看受欢迎电影

| ID       | 0022                                                         | 名称           | 查看受欢迎电影 |
| -------- | ------------------------------------------------------------ | -------------- | -------------- |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉           |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12      |
| 参与者   | 影院员工，目的是查看近期受欢迎电影（票房越高越受欢迎）       |                |                |
| 触发条件 | 影院员工需要查看近期受欢迎电影                               |                |                |
| 前置条件 | 1、用户身份为影院员工<br />2、最新市场调研结果已出           |                |                |
| 后置条件 | 无                                                           |                |                |
| 优先级   | 1000                                                         |                |                |
| 正常流程 | 1、用户请求查看近期受欢迎的电影                              |                |                |
|          | 2、系统提示用户输入时间范围和需要查看到第几位                |                |                |
|          | 3、用户根据提示输入                                          |                |                |
|          | 4、系统展示近期受欢迎的电影                                  |                |                |
| 扩展流程 | 4a、用户输入的时间范围内没有票房信息                         |                |                |
|          | 1、系统提示该时间范围内没有票房信息并返回正常流程2           |                |                |
|          | 4b、用户输入的查看到第几位超出近期有票房的电影数量           |                |                |
|          | 1、系统提示近期有票房的电影数量不足并显示所有近期票房数据    |                |                |
| 特殊需求 | 票房（当日某影片票房=∑【当日该影片每场观影人数*当日该场票价】） |                |                |



### 用例23 查看所有电影累计票房

| ID       | 0023                                               | 名称           | 查看所有电影累计票房 |
| -------- | -------------------------------------------------- | -------------- | -------------------- |
| 创建者   | 江辉                                               | 最后一次更新者 | 江辉                 |
| 创建日期 | 2019/5/12                                          | 最后更新日期   | 2019/5/12            |
| 参与者   | 影院员工，目的是查看所有电影累计票房来了解市场情况 |                |                      |
| 触发条件 | 影院员工需要查看所有电影累计票房                   |                |                      |
| 前置条件 | 1、用户身份为影院员工<br />2、最新市场调研结果已出 |                |                      |
| 后置条件 | 无                                                 |                |                      |
| 优先级   | 1000                                               |                |                      |
| 正常流程 | 1、用户请求查看所有电影累计票房信息                |                |                      |
|          | 2、系统返回所有电影累计票房信息                    |                |                      |
| 扩展流程 | 无                                                 |                |                      |
| 特殊需求 | 无                                                 |                |                      |



### 用例24 查看某日各影片排片率

| ID       | 0024                                                         | 名称           | 查看某日各影片排片率 |
| -------- | ------------------------------------------------------------ | -------------- | -------------------- |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉                 |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12            |
| 参与者   | 影院员工，目的是查看某日各影片排片率                         |                |                      |
| 触发条件 | 影院员工需要查看某日各影片排片率                             |                |                      |
| 前置条件 | 1、用户身份为影院员工                                        |                |                      |
| 后置条件 | 无                                                           |                |                      |
| 优先级   | 1000                                                         |                |                      |
| 正常流程 | 1、用户请求查看某日各影片排片率                              |                |                      |
|          | 2、系统提示输入日期                                          |                |                      |
|          | 3、用户根据提示输入日期                                      |                |                      |
|          | 4、系统返回相应日期的各影片排片率                            |                |                      |
| 扩展流程 | 4a、用户输入的日期没有排片                                   |                |                      |
|          | 1、系统提示该日期没有排片，返回正常流程第2步                 |                |                      |
| 特殊需求 | 排片率（当日某影片排片率=当日该影片放映场数/当日所有电影的总放映场数） |                |                      |



### 用例25 查看所有电影某日上座率

| ID       | 0025                                                         | 名称           | 查看所有电影某日上座率 |
| -------- | ------------------------------------------------------------ | -------------- | ---------------------- |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉                   |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12              |
| 参与者   | 影院员工，目的是查看所有电影某日上座率来了解市场情况         |                |                        |
| 触发条件 | 影院员工需要查看所有电影某日上座率                           |                |                        |
| 前置条件 | 1、用户身份为影院员工                                        |                |                        |
| 后置条件 | 无                                                           |                |                        |
| 优先级   | 1000                                                         |                |                        |
| 正常流程 | 1、用户请求查看所有电影某日上座率                            |                |                        |
|          | 2、系统提示输入日期                                          |                |                        |
|          | 3、用户根据提示输入日期                                      |                |                        |
|          | 4、系统返回相应日期的所有电影上座率                          |                |                        |
| 扩展流程 | 4a、用户输入的日期没有排片                                   |                |                        |
|          | 1、系统提示该日期没有排片，返回正常流程第2步                 |                |                        |
| 特殊需求 | 上座率（当日某影片上座率=当日该影片观影人数/∑【当日每场电影放映场次*每场所在影厅的座位数】） |                |                        |



### 用例26 查看每日客单价

| ID       | 0026                                               | 名称           | 查看每日客单价 |
| -------- | -------------------------------------------------- | -------------- | -------------- |
| 创建者   | 江辉                                               | 最后一次更新者 | 江辉           |
| 创建日期 | 2019/5/12                                          | 最后更新日期   | 2019/5/12      |
| 参与者   | 影院员工，目的是查看每日客单价来了解市场情况       |                |                |
| 触发条件 | 影院员工需要查看每日客单价                         |                |                |
| 前置条件 | 1、用户身份为影院员工<br />2、最新市场调研情况已出 |                |                |
| 后置条件 | 无                                                 |                |                |
| 优先级   | 1000                                               |                |                |
| 正常流程 | 1、用户请求查看每日客单价                          |                |                |
|          | 2、系统提示输入需要查看的天数                      |                |                |
|          | 3、用户根据提示输入天数                            |                |                |
|          | 4、系统显示近几天每日客单价                        |                |                |
| 扩展流程 | 无                                                 |                |                |
|          |                                                    |                |                |
| 特殊需求 | 客单价（观众购票所花总金额/购票次数）              |                |                |



### 用例27 发布优惠活动

| ID       | 0027                                                         | 名称           | 发布优惠活动 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉         |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12    |
| 参与者   | 影院员工，目的是发布的优惠活动，激发市场活力                 |                |              |
| 触发条件 | 影院员工需要在系统添加优惠活动                               |                |              |
| 前置条件 | 1、用户身份为影院员工                                        |                |              |
| 后置条件 | 1、系统中优惠活动发生预期中的更改                            |                |              |
| 优先级   | 1000                                                         |                |              |
| 正常流程 | 1、用户请求发布优惠活动                                      |                |              |
|          | 2、系统提示输入活动进行时间区间，优惠券的使用有效期，优惠金额及参与条件 |                |              |
|          | 3、用户输入活动进行时间区间，优惠券使用有效期，优惠金额，参与条件并确认 |                |              |
|          | 4、系统提示优惠活动发布成功                                  |                |              |
| 扩展流程 | 4a、用户输入的活动截止时间在当天之前                         |                |              |
|          | 1、系统提示截止时间应在当天之后并返回正常流程第2步           |                |              |
|          | 4b、用户输入的优惠券使用有效期在当天之前                     |                |              |
|          | 1、系统提示截止时间应在当天之后并返回正常流程第2步           |                |              |
|          | 4c、用户输入的金额为负数                                     |                |              |
|          | 1、系统提示金额应为非负数并返回正常流程第2步                 |                |              |
| 特殊需求 | 参与条件有两个选项：一个是活动期间进行过购票行为，另一个是购买指定电影 |                |              |



### 用例28 上架影片

| ID | 0028 | 名称 | 上架电影 |
| --- | --- | --- | --- |
| 创建者 | 江辉 | 最后一次更新者 | 刘涛 |
| 创建日期 | 2019/3/17 | 最后更新日期 | 2019/5/12 |
| 参与者 | 管理员，目的是往系统中添加需要上架的影片信息 |  |  |
| 触发条件 | 管理员根据市场调研及会议讨论结果决定上架影片 |  |  |
| 前置条件 | 1、用户的管理员身份已经被识别和授权<br/>2、最新市场调研及会议讨论结果已出 |  |  |
| 后置条件 | 1、系统提示用户影片上架成功<br/>2、系统中已上架影片信息中添加管理员确定的上架影片 |  |  |
| 优先级 |  |  |  |
| 正常流程 | 1、管理员发起上架电影请求 |  |  |
|  | 2、管理员输入上架影片的详情，包括：影片名、影片ID、影片类型、电影宣传海报、票价、剧情介绍、演职人员、制片国家/地区、语言、上映日期、片长和下映日期 |  |  |
|  | 3、管理员确认并提交刚才输入的影片信息                       |  |  |
|  | 4、系统记录并显示已上架的影片清单，电影清单由多个影片预览图组成，影片预览图结构为影片海报、影片名、上映状态、想看人数、剧情介绍和演职人员 |  |  |
|  | 5、系统提示管理员添加成功 |  |  |
|  | 6、管理员重复1~5步，直到完成所有影片的上架                 |  |  |
| 扩展流程 | 2a、管理员取消上架该影片 |  |  |
|  | 3a、影片库中没有需要上架的影片： |  |  |
|  | 1a、系统提示没有该影片，并拒绝输入 |  |  |
|  | 3b、影片必填信息没有全部填写： |  |  |
|  | 1b、系统提示影片信息不足，并拒绝输入 |  |  |
| | 3c、管理员输入的上映日期在系统时间之前： | | |
| | 1c、系统提示上映日期输入不能在当前系统日期之前，并拒绝输入 | | |
| | 3d、管理员输入的下映日期在上映日期之前： | | |
| | 1d、系统提示下映日期输入不能在上映日期之前，并拒绝输入 | | |
| 特殊需求 | 无 |  |  |



### 用例29 影厅信息录入

| ID       | 0029                                                         | 名称           | 影厅信息录入 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 刘涛                                                         | 最后一次更新者 | 刘涛         |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12    |
| 参与者   | 管理员，目的是将新的影厅信息添加到影厅数据库中               |                |              |
| 触发条件 | 影院拥有新的可供放映的影厅                                   |                |              |
| 前置条件 | 用户的管理员身份已经被识别和授权                             |                |              |
| 后置条件 | 1、系统提示用户影厅信息录入成功<br/>2、影厅信息中增加管理员新录入影厅的记录 |                |              |
| 优先级   |                                                              |                |              |
| 正常流程 | 1、管理员发起录入影厅信息的请求                              |                |              |
|          | 2、系统显示录入影厅信息                                      |                |              |
|          | 3、管理员输入影厅信息，包括名称、座位信息、大/中/小等        |                |              |
|          | 4、管理员确认并提交要录入的影厅信息                          |                |              |
|          | 5、系统提示管理员录入成功                                    |                |              |
|          | 6、管理员重复1~5步，直到完成所有影厅信息的录入               |                |              |
| 扩展流程 | 2a、管理员取消录入该影厅                                     |                |              |
|          | 3a、影厅必填信息没有全部填写：                               |                |              |
|          | 1a、系统提示影厅信息不足，并拒绝输入                         |                |              |
| 特殊需求 | 无                                                           |                |              |



### 用例30 修改影厅信息

| ID       | 0030                                                         | 名称           | 修改影厅信息 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 刘涛                                                         | 最后一次更新者 | 刘涛         |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12    |
| 参与者   | 管理员，目的是修改影厅数据库中某一影厅的信息                 |                |              |
| 触发条件 | 影院某一影厅的信息需要修改                                   |                |              |
| 前置条件 | 用户的管理员身份已经被识别和授权                             |                |              |
| 后置条件 | 1、系统提示用户影厅信息修改成功<br/>2、影厅信息中对应影厅的记录被修改 |                |              |
| 优先级   |                                                              |                |              |
| 正常流程 | 1、管理员发起修改影厅信息的请求                              |                |              |
|          | 2、系统显示选择或输入要修改的影厅的界面                      |                |              |
|          | 3、管理员选择或输入需要修改信息的影厅                        |                |              |
|          | 4、系统显示对应影厅信息                                      |                |              |
|          | 5、管理员输入要修改的信息，如名称、座位信息、大/中/小等      |                |              |
|          | 6、管理员确认并提交修改后的影厅信息                          |                |              |
|          | 7、系统提示管理员修改成功                                    |                |              |
|          | 8、管理员重复1~7步，直到完成需要修改的所有影厅信息的修改     |                |              |
| 扩展流程 | 3a、管理员输入的影厅不存在                                   |                |              |
|          | 2a、系统提示不存在对应的影厅，并拒绝输入                     |                |              |
|          | 4a、管理员取消修改该影厅的信息                               |                |              |
|          | 5a、影厅必填信息没有全部填写：                               |                |              |
|          | 2b、系统提示影厅信息不足，并拒绝输入                         |                |              |
| 特殊需求 | 无                                                           |                |              |



### 用例31 发布会员卡优惠策略

| ID       | 0031                                                         | 名称           | 发布会员卡优惠策略 |
| -------- | ------------------------------------------------------------ | -------------- | ------------------ |
| 创建者   | 刘涛                                                         | 最后一次更新者 | 刘涛               |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12          |
| 参与者   | 管理员，目的是发布新的会员卡充值优惠策略                     |                |                    |
| 触发条件 | 管理员根据市场调研及会议讨论结果决定发布新的优惠策略         |                |                    |
| 前置条件 | 1、用户的管理员身份已经被识别和授权<br/>2、最新调研结果及会议讨论结果已出 |                |                    |
| 后置条件 | 1、系统提示用户优惠策略发布成功<br/>2、会员卡信息中增加新的优惠策略的记录 |                |                    |
| 优先级   |                                                              |                |                    |
| 正常流程 | 1、管理员发起发布优惠策略的请求                              |                |                    |
|          | 2、管理员输入新的优惠策略，如折扣或满减                      |                |                    |
|          | 3、管理员确认并提交要发布的优惠策略                          |                |                    |
|          | 4、系统提示管理员发布成功                                    |                |                    |
|          | 5、管理员重复1~4步，直到完成所有优惠策略的发布               |                |                    |
| 扩展流程 | 2a、管理员取消发布该优惠策略                                 |                |                    |
|          | 3a、优惠策略格式错误：                                       |                |                    |
|          | 1a、系统提示输入格式有误，并拒绝输入                         |                |                    |
| 特殊需求 | 无                                                           |                |                    |



### 用例32 修改会员卡优惠策略

| ID       | 0032                                                         | 名称           | 修改会员卡优惠策略 |
| -------- | ------------------------------------------------------------ | -------------- | ------------------ |
| 创建者   | 刘涛                                                         | 最后一次更新者 | 刘涛               |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12          |
| 参与者   | 管理员，目的是修改之前发布的会员卡充值优惠策略               |                |                    |
| 触发条件 | 管理员根据市场调研及会议讨论结果决定修改之前发布的优惠策略   |                |                    |
| 前置条件 | 1、用户的管理员身份已经被识别和授权<br/>2、最新调研结果及会议讨论结果已出 |                |                    |
| 后置条件 | 1、系统提示用户该优惠策略修改成功<br/>2、会员卡信息中对应的优惠策略的记录被修改 |                |                    |
| 优先级   |                                                              |                |                    |
| 正常流程 | 1、管理员发起修改优惠策略的请求                              |                |                    |
|          | 2、系统提供给管理员要修改的优惠策略的选择                    |                |                    |
|          | 3、管理员选择需要修改的优惠策略                              |                |                    |
|          | 4、系统显示对应的优惠策略                                    |                |                    |
|          | 5、管理员输入要修改的优惠策略的内容                          |                |                    |
|          | 6、管理员确认并提交修改后的优惠策略                          |                |                    |
|          | 7、系统提示管理员修改成功                                    |                |                    |
|          | 8、管理员重复1~7步，直到完成需要修改的所有优惠策略的修改     |                |                    |
| 扩展流程 | 5a、管理员取消发布该优惠策略                                 |                |                    |
|          | 6a、优惠策略格式错误：                                       |                |                    |
|          | 4a、系统提示输入格式有误，并拒绝输入                         |                |                    |
| 特殊需求 | 无                                                           |                |                    |



### 用例33 赠送优惠券

| ID       | 0033                                                         | 名称           | 赠送优惠券 |
| -------- | ------------------------------------------------------------ | -------------- | ---------- |
| 创建者   | 刘涛                                                         | 最后一次更新者 | 刘涛       |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12  |
| 参与者   | 管理员，目的是向消费达到一定额度的会员赠送优惠券             |                |            |
| 触发条件 | 管理员根据市场调研及会议讨论结果决定赠送部分会员优惠券       |                |            |
| 前置条件 | 1、用户的管理员身份已经被识别和授权<br/>2、最新调研结果及会议讨论结果已出 |                |            |
| 后置条件 | 1、系统提示用户优惠券已成功赠送<br/>2、更新会员卡信息中被赠送优惠券的观众的优惠券记录 |                |            |
| 优先级   |                                                              |                |            |
| 正常流程 | 1、管理员按条件查询消费达到一定金额的会员名单                |                |            |
|          | 2、管理员查询优惠券                                          |                |            |
|          | 3、管理员请求赠送优惠券                                      |                |            |
|          | 4、系统显示赠送优惠券                                        |                |            |
|          | 5、管理员输入要赠送优惠券的会员的信息及相应的优惠券          |                |            |
|          | 6、管理员确认并提交赠送表单                                  |                |            |
|          | 7、系统提示管理员赠送成功                                    |                |            |
| 扩展流程 | 无                                                           |                |            |
| 特殊需求 | 无                                                           |                |            |



### 用例34 设置退票策略

| ID       | 0034                                                         | 名称           | 设置退票策略 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 刘涛                                                         | 最后一次更新者 | 刘涛         |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12    |
| 参与者   | 管理员，目的是设置观众退票时的处理策略                       |                |              |
| 触发条件 | 管理员根据市场调研及会议讨论结果设置退票的处理策略           |                |              |
| 前置条件 | 1、用户的管理员身份已经被识别和授权<br/>2、最新调研结果及会议讨论结果已出 |                |              |
| 后置条件 | 1、系统提示用户退票策略设置成功<br/>2、增加影票信息中的退票策略 |                |              |
| 优先级   |                                                              |                |              |
| 正常流程 | 1、管理员请求设置退票策略                                    |                |              |
|          | 2、管理员输入退票策略，包括包括能否退票以及价格折算等        |                |              |
|          | 3、管理员确认并提交要发布的退票策略                          |                |              |
|          | 4、系统提示管理员设置成功                                    |                |              |
| 扩展流程 | 2a、管理员取消发布该优惠策略                                 |                |              |
|          | 3a、优惠策略格式错误：                                       |                |              |
|          | 2b、系统提示输入格式有误，并拒绝输入                         |                |              |
| 特殊需求 | 无                                                           |                |              |



### 用例35 修改退票策略

| ID       | 0035                                                         | 名称           | 修改退票策略 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 刘涛                                                         | 最后一次更新者 | 刘涛         |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12    |
| 参与者   | 管理员，目的是修改当前的退票处理策略                         |                |              |
| 触发条件 | 管理员根据市场调研及会议讨论结果决定修改当前的退票处理策略   |                |              |
| 前置条件 | 1、用户的管理员身份已经被识别和授权<br/>2、最新调研结果及会议讨论结果已出 |                |              |
| 后置条件 | 1、系统提示用户退票策略设置成功<br/>2、修改当前影票信息中的退票策略 |                |              |
| 优先级   |                                                              |                |              |
| 正常流程 | 1、管理员请求修改退票策略                                    |                |              |
|          | 2、系统显示当前的退票策略                                    |                |              |
|          | 3、管理员对当前退票策略进行修改，包括包括能否退票以及价格折算等 |                |              |
|          | 4、管理员确认并提交修改后的退票策略                          |                |              |
|          | 5、系统提示管理员修改成功                                    |                |              |
| 扩展流程 | 3a、管理员取消修改当前的优惠策略                             |                |              |
|          | 4a、优惠策略格式错误：                                       |                |              |
|          | 3b、系统提示输入格式有误，并拒绝输入                         |                |              |
|          | 4b、系统当前有观众正在退票：                                 |                |              |
|          | 3c、系统提示当前有观众正在退票，请稍后再修改                 |                |              |
| 特殊需求 | 无                                                           |                |              |



### 用例36 统计预售影片的想看人数

| ID       | 0036                                                         | 名称           | 统计预售影片的想看人数 |
| -------- | ------------------------------------------------------------ | -------------- | ---------------------- |
| 创建者   | 刘涛                                                         | 最后一次更新者 | 刘涛                   |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12              |
| 参与者   | 管理员，目的是统计预售影片的想看人数，以了解电影的流行度     |                |                        |
| 触发条件 | 管理员想要统计预售中的影片被标记为想看的人数                 |                |                        |
| 前置条件 | 用户的管理员身份已经被识别和授权                             |                |                        |
| 后置条件 | 1、系统提示用户退票策略设置成功<br/>2、增加影票信息中的退票策略 |                |                        |
| 优先级   |                                                              |                |                        |
| 正常流程 | 1、管理员选择查看所有电影的想看人数                          |                |                        |
|          | 2、系统以柱状图的形式显示所有电影截止到当前系统时间为止的想看人数 |                |                        |
|          | 3、管理员选择具体的一部电影                                  |                |                        |
|          | 4、系统以折线图的形式显示该电影自发布时间到当前日期为止每天想看人数的变化趋势，即纵坐标为“想看人数”，横坐标为“日期” |                |                        |
| 扩展流程 | 无                                                           |                |                        |
| 特殊需求 | 无                                                           |                |                        |



### 用例37 影院角色增删改查 

| ID       | 0037                                                         | 名称           | 影院角色增删改查 |
| -------- | ------------------------------------------------------------ | -------------- | ---------------- |
| 创建者   | 刘涛                                                         | 最后一次更新者 | 刘涛             |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12        |
| 参与者   | 管理员，目的是管理影院角色                                   |                |                  |
| 触发条件 | 管理员根据人事变动管理影院角色                               |                |                  |
| 前置条件 | 1、用户的管理员身份已经被识别和授权<br/>2、影院人事发生变动  |                |                  |
| 后置条件 | 1、系统提示用户对某一角色的增/删/改/查成功<br/>2、增/删/改/查影院角色信息中对应的记录 |                |                  |
| 优先级   |                                                              |                |                  |
| 正常流程 | 1、管理员请求管理影院角色                                    |                |                  |
|          | 2、系统显示当前影院的角色信息                                |                |                  |
|          | 3、管理员增/删/改/查某一角色                                 |                |                  |
|          | 4、管理员确认并提交增/删/改/查后的角色信息                   |                |                  |
| 扩展流程 | 3a、管理员取消增/删/改/查当前的角色信息                      |                |                  |
|          | 4a、管理员输入的角色信息格式错误：                           |                |                  |
|          | 2a、系统提示输入格式有误，并拒绝输入                         |                |                  |
| 特殊需求 | 无                                                           |                |                  |




## 5.需求分析模型

### 5.1 系统顺序图


#### 用例1 上架电影

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE-%E4%B8%8A%E6%9E%B6%E5%BD%B1%E7%89%87.jpg#align=left&display=inline&height=818&originHeight=1021&originWidth=931&status=done&width=746)


#### 用例2 查看影片详情

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE-%E6%9F%A5%E7%9C%8B%E5%BD%B1%E7%89%87%E8%AF%A6%E6%83%85.jpg#align=left&display=inline&height=1003&originHeight=1121&originWidth=834&status=done&width=746)


#### 用例3 统计预售影片想看人数

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE-%E7%BB%9F%E8%AE%A1%E9%A2%84%E5%94%AE%E5%BD%B1%E7%89%87%E7%9A%84%E6%83%B3%E7%9C%8B%E4%BA%BA%E6%95%B0.jpg#align=left&display=inline&height=1003&originHeight=1121&originWidth=834&status=done&width=746)


#### 用例4 标记影片为想看

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE-%E6%A0%87%E8%AE%B0%E6%9F%90%E7%94%B5%E5%BD%B1%E4%B8%BA%E6%83%B3%E7%9C%8B.jpg#align=left&display=inline&height=1007&originHeight=1007&originWidth=686&status=done&width=686)


#### 用例5 搜索电影

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE-%E6%90%9C%E7%B4%A2%E7%94%B5%E5%BD%B1.jpg#align=left&display=inline&height=814&originHeight=814&originWidth=544&status=done&width=544)


### 5.2 概念类图


#### 用例1 上架影片

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE-%E4%B8%8A%E6%9E%B6%E5%BD%B1%E7%89%87.jpg#align=left&display=inline&height=507&originHeight=519&originWidth=764&status=done&width=746)


#### 用例2 查看影片详情

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE-%E6%9F%A5%E7%9C%8B%E5%B7%B2%E4%B8%8A%E6%9E%B6%E7%94%B5%E5%BD%B1.jpg#align=left&display=inline&height=562&originHeight=562&originWidth=334&status=done&width=334)


#### 用例3 统计预售影片想看人数

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE-%E7%BB%9F%E8%AE%A1%E9%A2%84%E5%94%AE%E5%BD%B1%E7%89%87%E7%9A%84%E6%83%B3%E7%9C%8B%E4%BA%BA%E6%95%B0.jpg#align=left&display=inline&height=491&originHeight=493&originWidth=749&status=done&width=746)


#### 用例4 标记影片为想看

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE-%E6%A0%87%E8%AE%B0%E6%9F%90%E7%94%B5%E5%BD%B1%E4%B8%BA%E6%83%B3%E7%9C%8B.jpg#align=left&display=inline&height=504&originHeight=504&originWidth=721&status=done&width=721)


#### 用例5 搜索电影

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE-%E6%90%9C%E7%B4%A2%E7%94%B5%E5%BD%B1(%E6%97%A5%E6%9C%9F%EF%BC%8C%E5%90%8D%E7%A7%B0%E7%AD%89).jpg#align=left&display=inline&height=488&originHeight=491&originWidth=750&status=done&width=746)


### 5.3状态图


#### 用例1 上架影片

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE-%E4%B8%8A%E6%9E%B6%E5%BD%B1%E7%89%87.jpg#align=left&display=inline&height=308&originHeight=530&originWidth=1282&status=done&width=746)


#### 用例2 查看影片详情

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE-%E6%9F%A5%E7%9C%8B%E5%BD%B1%E7%89%87%E8%AF%A6%E6%83%85.jpg#align=left&display=inline&height=351&originHeight=589&originWidth=1252&status=done&width=746)


#### 用例3 统计预售影片想看人数

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE-%E6%90%9C%E7%B4%A2%E7%94%B5%E5%BD%B1(%E6%97%A5%E6%9C%9F%EF%BC%8C%E5%90%8D%E7%A7%B0%E7%AD%89).jpg#align=left&display=inline&height=401&originHeight=538&originWidth=1001&status=done&width=746)


#### 用例4 标记影片为想看

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE-%E6%A0%87%E8%AE%B0%E5%BD%B1%E7%89%87%E4%B8%BA%E6%83%B3%E7%9C%8B.jpg#align=left&display=inline&height=449&originHeight=473&originWidth=786&status=done&width=746)


#### 用例5 搜索电影

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE-%E8%B4%AD%E7%A5%A8.jpg#align=left&display=inline&height=522&originHeight=522&originWidth=521&status=done&width=521)

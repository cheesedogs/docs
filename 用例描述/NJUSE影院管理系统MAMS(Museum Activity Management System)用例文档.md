# NJUSE影院管理系统MAMS(Museum Activity Management System)用例文档

# V1.2 正式版

## 2019/03/17

## 更新历史

| 修改人员 | 日期 | 变更原因 | 版本号 |
| --- | --- | --- | --- |
| 许竣博 | 2019/03/17 | 最初的草稿 | V0.9 beta版 |
| 江辉 | 2019/03/19 | 统一文档格式 | V0.91 beta版 |
| 周际宇 | 2019/03/28 | 修改文档互评中对方指出的不合适的地方 | V1.0 正式版 |
| 江辉 | 2019/05/12 | 补充三阶段所有用例 | V2.01 三阶段草稿 |

## 目录

* [1.引言](#1%E5%BC%95%E8%A8%80)
  * [1.1 目标](#11-%E7%9B%AE%E6%A0%87)
  * [1.2 阅读说明](#12-%E9%98%85%E8%AF%BB%E8%AF%B4%E6%98%8E)
  * [1.3 参考文献](#13-%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE)
* [2.用例图](#2%E7%94%A8%E4%BE%8B%E5%9B%BE)
* [3.用例列表](#3%E7%94%A8%E4%BE%8B%E5%88%97%E8%A1%A8)
* [4.详细用例描述](#4%E8%AF%A6%E7%BB%86%E7%94%A8%E4%BE%8B%E6%8F%8F%E8%BF%B0)
  * [用例1 上架影片](#%E7%94%A8%E4%BE%8B1-%E4%B8%8A%E6%9E%B6%E5%BD%B1%E7%89%87)
  * [用例2 查看影片详情](#%E7%94%A8%E4%BE%8B2-%E6%9F%A5%E7%9C%8B%E5%BD%B1%E7%89%87%E8%AF%A6%E6%83%85)
  * [用例3 统计预售影片的想看人数](#%E7%94%A8%E4%BE%8B3-%E7%BB%9F%E8%AE%A1%E9%A2%84%E5%94%AE%E5%BD%B1%E7%89%87%E7%9A%84%E6%83%B3%E7%9C%8B%E4%BA%BA%E6%95%B0)
  * [用例4 标记某电影为想看](#%E7%94%A8%E4%BE%8B4-%E6%A0%87%E8%AE%B0%E6%9F%90%E7%94%B5%E5%BD%B1%E4%B8%BA%E6%83%B3%E7%9C%8B)
  * [用例5 搜索电影(日期，名称等)](#%E7%94%A8%E4%BE%8B5-%E6%90%9C%E7%B4%A2%E7%94%B5%E5%BD%B1%E6%97%A5%E6%9C%9F%E5%90%8D%E7%A7%B0%E7%AD%89)
* [5.需求分析模型](#5%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90%E6%A8%A1%E5%9E%8B)
  * [5.1 系统顺序图](#51-%E7%B3%BB%E7%BB%9F%E9%A1%BA%E5%BA%8F%E5%9B%BE)
    * [用例1 上架电影](#%E7%94%A8%E4%BE%8B1-%E4%B8%8A%E6%9E%B6%E7%94%B5%E5%BD%B1)
    * [用例2 查看影片详情](#%E7%94%A8%E4%BE%8B2-%E6%9F%A5%E7%9C%8B%E5%BD%B1%E7%89%87%E8%AF%A6%E6%83%85-1)
    * [用例3 统计预售影片想看人数](#%E7%94%A8%E4%BE%8B3-%E7%BB%9F%E8%AE%A1%E9%A2%84%E5%94%AE%E5%BD%B1%E7%89%87%E6%83%B3%E7%9C%8B%E4%BA%BA%E6%95%B0)
    * [用例4 标记影片为想看](#%E7%94%A8%E4%BE%8B4-%E6%A0%87%E8%AE%B0%E5%BD%B1%E7%89%87%E4%B8%BA%E6%83%B3%E7%9C%8B)
    * [用例5 搜索电影](#%E7%94%A8%E4%BE%8B5-%E6%90%9C%E7%B4%A2%E7%94%B5%E5%BD%B1)
  * [5.2 概念类图](#52-%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE)
    * [用例1 上架影片](#%E7%94%A8%E4%BE%8B1-%E4%B8%8A%E6%9E%B6%E5%BD%B1%E7%89%87)
    * [用例2 查看影片详情](#%E7%94%A8%E4%BE%8B2-%E6%9F%A5%E7%9C%8B%E5%BD%B1%E7%89%87%E8%AF%A6%E6%83%85)
    * [用例3 统计预售影片想看人数](#%E7%94%A8%E4%BE%8B3-%E7%BB%9F%E8%AE%A1%E9%A2%84%E5%94%AE%E5%BD%B1%E7%89%87%E6%83%B3%E7%9C%8B%E4%BA%BA%E6%95%B0)
    * [用例4 标记影片为想看](#%E7%94%A8%E4%BE%8B4-%E6%A0%87%E8%AE%B0%E5%BD%B1%E7%89%87%E4%B8%BA%E6%83%B3%E7%9C%8B)
    * [用例5 搜索电影](#%E7%94%A8%E4%BE%8B5-%E6%90%9C%E7%B4%A2%E7%94%B5%E5%BD%B1)
  * [5.3状态图](#53%E7%8A%B6%E6%80%81%E5%9B%BE)
    * [用例1 上架影片](#%E7%94%A8%E4%BE%8B1-%E4%B8%8A%E6%9E%B6%E5%BD%B1%E7%89%87)
    * [用例2 查看影片详情](#%E7%94%A8%E4%BE%8B2-%E6%9F%A5%E7%9C%8B%E5%BD%B1%E7%89%87%E8%AF%A6%E6%83%85)
    * [用例3 统计预售影片想看人数](#%E7%94%A8%E4%BE%8B3-%E7%BB%9F%E8%AE%A1%E9%A2%84%E5%94%AE%E5%BD%B1%E7%89%87%E6%83%B3%E7%9C%8B%E4%BA%BA%E6%95%B0)
    * [用例4 标记影片为想看](#%E7%94%A8%E4%BE%8B4-%E6%A0%87%E8%AE%B0%E5%BD%B1%E7%89%87%E4%B8%BA%E6%83%B3%E7%9C%8B)
    * [用例5 搜索电影](#%E7%94%A8%E4%BE%8B5-%E6%90%9C%E7%B4%A2%E7%94%B5%E5%BD%B1)

## 1.引言

本文档描述了影院活动管理系统的用户及管理者需求。开发小组的软件系统实现与验证工作都以此文档为依据。

本文档所包含的需求等级用数字表示，数值越高优先级越高。

本文档的内容可能在项目实施过程中发生变更，但是必须由项目小组成员发出变更请求，小组讨论，最终决定，建立持续有效的版本控制。

### 1.1 目标

本文档描述了影院活动管理系统的用户需求。

### 1.2 阅读说明

无

### 1.3 参考文献

1.IEEE std 1471-2000
2.《影院管理系统MAMS需求最新版0418》
3.丁二玉，刘钦.计算与软件工程（卷二）[M]机械工业出版社，2012：134~182
4.Frank Buschmann, Regine Meunier, Hans Rohnert, Peter Sommerlad, Micheael Stal.Pattern-Oriented Software Architecture Volume 1: A system of Patterns [M]机械工业出版社,2003

## 2.用例图

![](https://cdn.nlark.com/yuque/0/2019/png/291791/1553083674015-ed88f39f-1159-4a77-9887-4daf68fd8100.png#align=left&display=inline&height=531&originHeight=1025&originWidth=1440&size=0&status=done&width=746#align=left&display=inline&height=531&originHeight=1025&originWidth=1440&status=done&width=746)

## 3.用例列表

| 参与者 | 用例 |
| --- | --- |
| 观众、影院员工、管理员 | 1.登录、注册 |
| 观众 | 2.搜索电影              |
|  | 3.标记电影为想看 |
|  | 4.购买会员卡            |
|  | 5.查看会员卡 |
| | 6.充值会员卡 |
| | 7.查看历史充值信息 |
|  | 8.购买电影票 |
| | 9.查看已购电影票 |
| | 10.退票 |
| | 11.查看历史消费记录 |
| 观众、影院员工 | 12.查看电影详情 |
| 观众、影院员工 | 13.查看已上架电影列表 |
| 观众、影院员工 | 14.查看排片信息(影厅视角) |
| 观众、影院员工 | 15.查看排片信息(影片视角) |
| 影院员工 | 16.修改电影信息 |
| | 17.下架电影 |
| | 18.添加排片信息 |
| | 19.修改排片信息 |
| | 20.删除排片信息 |
| | 21.设置排片信息观众可见时间 |
| | 22.修改排片信息观众可见时间 |
| | 23.查看受欢迎电影 |
| | 24.查看所有电影累计票房 |
| | 25.查看某日各影片排片率 |
| | 26.查看所有电影某日上座率 |
| | 27.查看每日客单价 |
| | 28.发布优惠活动 |
| 管理员 | 29.上架电影 |
| | 30.影厅信息录入 |
| | 31.修改影厅信息 |
| | 32.发布会员卡优惠策略 |
| | 33.修改会员卡优惠策略 |
| | 34.赠送优惠券 |
| | 35.设置退票策略 |
| | 36.修改退票策略 |
| | 37.统计预售电影想看人数 |
| | 38.影院角色增删改查 |



## 4.详细用例描述

### 用例13 查看已上架电影列表

| ID       | 0013                                                         | 名称           | 查看已上架电影列表 |
| -------- | ------------------------------------------------------------ | -------------- | ------------------ |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉               |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12          |
| 参与者   | 观众，目的是了解已上架了哪些电影<br />影院员工，目的是查看已上架电影的列表信息，为排片、优惠活动等决策作参考 |                |                    |
| 触发条件 | 用户想要查看已上架电影列表                                   |                |                    |
| 前置条件 | 1、用户身份为总经理<br />2、最新市场调研结果已出<br />3、总经理决定上架影片 |                |                    |
| 后置条件 | 无                                                           |                |                    |
| 优先级   | 1000                                                         |                |                    |
| 正常流程 | 1、用户请求查看已上架电影列表                                |                |                    |
|          | 2、系统显示电影列表                                          |                |                    |
| 扩展流程 | 无                                                           |                |                    |
| 特殊需求 | 电影列表中每个电影都要显示包括其名称、电影宣传海报、主演、上映日期等简单资料 |                |                    |



### 用例14 查看排片信息(影厅视角)

| ID       | 0014                                                         | 名称           | 查看排片信息(影厅视角) |
| -------- | ------------------------------------------------------------ | -------------- | ---------------------- |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉                   |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12              |
| 参与者   | 观众，目的是了解某影厅的排片信息<br />影院员工，目的是查看某影厅的排片信息 |                |                        |
| 触发条件 | 用户需要查看某影厅的排片信息                                 |                |                        |
| 前置条件 | 无                                                           |                |                        |
| 后置条件 | 无                                                           |                |                        |
| 优先级   | 1000                                                         |                |                        |
| 正常流程 | 1、用户请求从影厅视角查看排片信息                            |                |                        |
|          | 2、系统提供可选影厅列表并提示用户选择影厅和日期              |                |                        |
|          | 3、用户选择想要查看的影厅和日期                              |                |                        |
|          | 4、系统根据用户的选择展示该日期下该影厅的排片信息表          |                |                        |
| 扩展流程 | 无                                                           |                |                        |
| 特殊需求 | 选择日期时（默认当天），可以选择日期区间或具体日期，选择影厅时（默认全部），可以选择全部影厅或某具体影厅。如：选择2019-04-01到2019-04-08区间全部影厅的排片信息<br />排片信息表字段定义：影厅名，影片名，放映开始时间，放映结束时间，票价 |                |                        |



### 用例15 查看排片信息(影片视角)

| ID       | 0015                                                         | 名称           | 查看排片信息(影片视角) |
| -------- | ------------------------------------------------------------ | -------------- | ---------------------- |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉                   |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12              |
| 参与者   | 观众，目的是了解某影片在各影厅的排片信息<br />影院员工，目的是查看某影片在各影厅的排片信息 |                |                        |
| 触发条件 | 用户需要查看某影片在各影厅的排片信息                         |                |                        |
| 前置条件 | 1、目标影片在系统中存在                                      |                |                        |
| 后置条件 | 无                                                           |                |                        |
| 优先级   | 1000                                                         |                |                        |
| 正常流程 | 1、用户请求从影厅视角查看排片信息                            |                |                        |
|          | 2、系统显示所有有排片的电影并提示用户选择需要查看的电影      |                |                        |
|          | 3、用户选择想要查看的电影                                    |                |                        |
|          | 4、系统展示该电影在各影厅的排片信息表                        |                |                        |
| 扩展流程 | 无                                                           |                |                        |
| 特殊需求 | 排片信息表字段定义：影厅名，影片名，放映开始时间，放映结束时间，票价 |                |                        |



### 用例16 修改电影信息

| ID       | 0001                                                         | 名称           | 修改电影信息 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉         |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12    |
| 参与者   | 影院员工，目的是往系统中添加需要上架的影片信息               |                |              |
| 触发条件 | 影院员工需要修改某个电影的信息                               |                |              |
| 前置条件 | 1、用户身份为影院员工<br />2、目标影片在系统中存在           |                |              |
| 后置条件 | 1、系统中目标电影的信息发生预期中的更改                      |                |              |
| 优先级   | 1000                                                         |                |              |
| 正常流程 | 1、用户请求修改电影信息                                      |                |              |
|          | 2、系统提示用户选择需要修改的电影并填写修改信息              |                |              |
|          | 3、用户选择要修改的电影填写修改信息完毕后确认                |                |              |
|          | 4、系统提示修改成功                                          |                |              |
| 扩展流程 | 3a、用户选择要修改的电影已有观众买票还没观看或后续还有排片的 |                |              |
|          | 1、系统提示无法修改                                          |                |              |
|          | 2、用户确认并返回步骤1                                       |                |              |
| 特殊需求 | 无                                                           |                |              |



### 用例18 添加排片信息

| ID       | 0001                                                   | 名称           | 添加排片信息 |
| -------- | ------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 江辉                                                   | 最后一次更新者 | 江辉         |
| 创建日期 | 2019/5/12                                              | 最后更新日期   | 2019/5/12    |
| 参与者   | 影院员工，目的是往系统中添加排片信息                   |                |              |
| 触发条件 | 影院员工根据安排需要添加排片信息                       |                |              |
| 前置条件 | 1、用户身份为影院员工                                  |                |              |
| 后置条件 | 1、系统中增加相应的排片信息                            |                |              |
| 优先级   | 1000                                                   |                |              |
| 正常流程 | 1、用户请求添加排片信息                                |                |              |
|          | 2、系统提示用户选择日期和影厅                          |                |              |
|          | 3、用户选择日期和影厅并确认                            |                |              |
|          | 4、系统展示该日期下该影厅可供排片的时间段和影片列表    |                |              |
|          | 5、用户选择时间段和影片，并填写票价后确认              |                |              |
|          | 6、系统提示添加成功                                    |                |              |
| 扩展流程 | 5a、用户选择的时间段与已经排片的其他影片放映时间段冲突 |                |              |
|          | 1、系统提示时间冲突，请用户重新选择，返回正常流程第5步 |                |              |
| 特殊需求 | 无                                                     |                |              |



### 用例19 修改排片信息

| ID       | 0019                                                         | 名称           | 修改排片信息 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉         |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12    |
| 参与者   | 影院员工，目的是修改系统中指定排片信息                       |                |              |
| 触发条件 | 影院员工根据安排需要修改排片信息                             |                |              |
| 前置条件 | 1、用户身份为影院员工<br />2、系统中有排片信息               |                |              |
| 后置条件 | 1、系统中相应的排片信息发送预期中的修改                      |                |              |
| 优先级   | 1000                                                         |                |              |
| 正常流程 | 1、用户请求修改排片信息                                      |                |              |
|          | 2、系统提示用户选择日期和影厅                                |                |              |
|          | 3、用户选择日期和影厅并确认                                  |                |              |
|          | 4、系统展示该日期下该影厅已有的排片信息列表                  |                |              |
|          | 5、用户选择修改某时间段的排片信息                            |                |              |
|          | 6、系统提示修改成功                                          |                |              |
| 扩展流程 | 2a、当前时间不早于排片信息对观众可见时间                     |                |              |
|          | 1、系统提示观众已可见，无法修改                              |                |              |
|          | 5a、用户选择修改该排片的放映时间段                           |                |              |
|          | 1、系统提示用户重新选择时间段                                |                |              |
|          | 2、用户选择并确认                                            |                |              |
|          | 2a、用户选择的时间段与其他排片的时间段冲突                   |                |              |
|          | 1、系统提示时间冲突返回扩展流程5a、1步                       |                |              |
|          | 2b、用户选择的时间段小于当前影片的放映时长                   |                |              |
|          | 1、系统提示时间段时间段不得小于影片时长，返回扩展流程5a、1步 |                |              |
|          | 5b、用户输入的新时间段时长小于当前影片放映时长               |                |              |
|          | 1、系统展示所有可供排片的影片信息                            |                |              |
|          | 2、用户选择影片并确认                                        |                |              |
|          | 2a、用户选择的影片放映时长大于当前时间段                     |                |              |
|          | 1、系统提示时间段不得小于影片时长，返回扩展流程5b、2         |                |              |
| 特殊需求 | 无                                                           |                |              |



### 用例20 删除排片信息

| ID       | 0020                                                      | 名称           | 删除排片信息 |
| -------- | --------------------------------------------------------- | -------------- | ------------ |
| 创建者   | 江辉                                                      | 最后一次更新者 | 江辉         |
| 创建日期 | 2019/5/12                                                 | 最后更新日期   | 2019/5/12    |
| 参与者   | 影院员工，目的是删除系统指定的排片信息                    |                |              |
| 触发条件 | 用户根据安排需要删除某排片信息                            |                |              |
| 前置条件 | 1、用户身份为影院员工<br />2、系统中有排片信息            |                |              |
| 后置条件 | 1、系统中目标排片信息被删除                               |                |              |
| 优先级   | 1000                                                      |                |              |
| 正常流程 | 1、用户请求删除排片信息                                   |                |              |
|          | 2、系统提示用户选择日期和影厅                             |                |              |
|          | 3、用户选择日期和影厅并确认                               |                |              |
|          | 4、系统展示该日期下该影厅的已排片信息                     |                |              |
|          | 5、用户选择删除某时间段的排片信息                         |                |              |
|          | 6、系统询问用户是否确认删除                               |                |              |
|          | 7、用户确认删除                                           |                |              |
|          | 8、系统提示删除成功                                       |                |              |
| 扩展流程 | 2a、当前时间不早于排片信息对观众可见时间                  |                |              |
|          | 1、系统提示当前时间不早于排片信息对观众可见时间，无法删除 |                |              |
|          | 7a、用户选择取消                                          |                |              |
|          | 1、返回正常流程第4步                                      |                |              |
| 特殊需求 | 无                                                        |                |              |



### 用例21 设置排片信息观众可见时间

| ID       | 0021                                                       | 名称           | 设置排片信息观众可见时间 |
| -------- | ---------------------------------------------------------- | -------------- | ------------------------ |
| 创建者   | 江辉                                                       | 最后一次更新者 | 江辉                     |
| 创建日期 | 2019/5/12                                                  | 最后更新日期   | 2019/5/12                |
| 参与者   | 影院员工，目的是在系统中设置排片信息观众可见时间           |                |                          |
| 触发条件 | 影院员工根据安排需要设置排片信息观众可见时间               |                |                          |
| 前置条件 | 1、用户身份为影院员工<br />2、系统中有排片信息             |                |                          |
| 后置条件 | 1、系统中排片信息观众可见时间发生预期中的更改              |                |                          |
| 优先级   | 1000                                                       |                |                          |
| 正常流程 | 1、用户请求设置某日期或日期区间排片信息对观众可见时间      |                |                          |
|          | 2、系统提示用户输入可见时间                                |                |                          |
|          | 3、用户输入并确认                                          |                |                          |
|          | 4、系统提示设置成功                                        |                |                          |
| 扩展流程 | 4a、用户输入时间晚于排片的日期                             |                |                          |
|          | 1、系统提示输入时间晚于排片日期，返回正常流程第2步         |                |                          |
|          | 4b、用户输入时间晚于排片的开始放映时间                     |                |                          |
|          | 1、系统提示输入时间晚于排片开始放映时间，返回正常流程第2步 |                |                          |
| 特殊需求 | 无                                                         |                |                          |



### 用例22 修改排片信息观众可见时间

| ID       | 0022                                                       | 名称           | 修改排片信息观众可见时间 |
| -------- | ---------------------------------------------------------- | -------------- | ------------------------ |
| 创建者   | 江辉                                                       | 最后一次更新者 | 江辉                     |
| 创建日期 | 2019/5/12                                                  | 最后更新日期   | 2019/5/12                |
| 参与者   | 影院员工，目的是在系统中修改排片信息观众可见时间           |                |                          |
| 触发条件 | 影院员工根据安排需要修改排片信息观众可见时间               |                |                          |
| 前置条件 | 1、用户身份为影院员工<br />2、系统中有排片信息             |                |                          |
| 后置条件 | 1、系统中排片信息观众可见时间发生预期中的更改              |                |                          |
| 优先级   | 1000                                                       |                |                          |
| 正常流程 | 1、用户请求修改某日期或日期区间排片信息对观众可见时间      |                |                          |
|          | 2、系统提示用户输入可见时间                                |                |                          |
|          | 3、用户输入并确认                                          |                |                          |
|          | 4、系统提示设置成功                                        |                |                          |
| 扩展流程 | 4a、用户输入时间晚于排片的日期                             |                |                          |
|          | 1、系统提示输入时间晚于排片日期，返回正常流程第2步         |                |                          |
|          | 4b、用户输入时间晚于排片的开始放映时间                     |                |                          |
|          | 1、系统提示输入时间晚于排片开始放映时间，返回正常流程第2步 |                |                          |
| 特殊需求 | 无                                                         |                |                          |



### 用例23 查看受欢迎电影

| ID       | 0023                                                         | 名称           | 查看受欢迎电影 |
| -------- | ------------------------------------------------------------ | -------------- | -------------- |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉           |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12      |
| 参与者   | 影院员工，目的是查看近期受欢迎电影（票房越高越受欢迎）       |                |                |
| 触发条件 | 影院员工需要查看近期受欢迎电影                               |                |                |
| 前置条件 | 1、用户身份为影院员工<br />2、最新市场调研结果已出           |                |                |
| 后置条件 | 无                                                           |                |                |
| 优先级   | 1000                                                         |                |                |
| 正常流程 | 1、用户请求查看近期受欢迎的电影                              |                |                |
|          | 2、系统提示用户输入时间范围和需要查看到第几位                |                |                |
|          | 3、用户根据提示输入                                          |                |                |
|          | 4、系统展示近期受欢迎的电影                                  |                |                |
| 扩展流程 | 4a、用户输入的时间范围内没有票房信息                         |                |                |
|          | 1、系统提示该时间范围内没有票房信息并返回正常流程2           |                |                |
|          | 4b、用户输入的查看到第几位超出近期有票房的电影数量           |                |                |
|          | 1、系统提示近期有票房的电影数量不足并显示所有近期票房数据    |                |                |
| 特殊需求 | 票房（当日某影片票房=∑【当日该影片每场观影人数*当日该场票价】） |                |                |



### 用例24 查看所有电影累计票房

| ID       | 0024                                               | 名称           | 查看所有电影累计票房 |
| -------- | -------------------------------------------------- | -------------- | -------------------- |
| 创建者   | 江辉                                               | 最后一次更新者 | 江辉                 |
| 创建日期 | 2019/5/12                                          | 最后更新日期   | 2019/5/12            |
| 参与者   | 影院员工，目的是查看所有电影累计票房来了解市场情况 |                |                      |
| 触发条件 | 影院员工需要查看所有电影累计票房                   |                |                      |
| 前置条件 | 1、用户身份为影院员工<br />2、最新市场调研结果已出 |                |                      |
| 后置条件 | 无                                                 |                |                      |
| 优先级   | 1000                                               |                |                      |
| 正常流程 | 1、用户请求查看所有电影累计票房信息                |                |                      |
|          | 2、系统返回所有电影累计票房信息                    |                |                      |
| 扩展流程 | 无                                                 |                |                      |
| 特殊需求 | 无                                                 |                |                      |



### 用例25 查看某日各影片排片率

| ID       | 0025                                                         | 名称           | 查看某日各影片排片率 |
| -------- | ------------------------------------------------------------ | -------------- | -------------------- |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉                 |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12            |
| 参与者   | 影院员工，目的是查看某日各影片排片率                         |                |                      |
| 触发条件 | 影院员工需要查看某日各影片排片率                             |                |                      |
| 前置条件 | 1、用户身份为影院员工                                        |                |                      |
| 后置条件 | 无                                                           |                |                      |
| 优先级   | 1000                                                         |                |                      |
| 正常流程 | 1、用户请求查看某日各影片排片率                              |                |                      |
|          | 2、系统提示输入日期                                          |                |                      |
|          | 3、用户根据提示输入日期                                      |                |                      |
|          | 4、系统返回相应日期的各影片排片率                            |                |                      |
| 扩展流程 | 4a、用户输入的日期没有排片                                   |                |                      |
|          | 1、系统提示该日期没有排片，返回正常流程第2步                 |                |                      |
| 特殊需求 | 排片率（当日某影片排片率=当日该影片放映场数/当日所有电影的总放映场数） |                |                      |



### 用例26 查看所有电影某日上座率

| ID       | 0026                                                         | 名称           | 查看所有电影某日上座率 |
| -------- | ------------------------------------------------------------ | -------------- | ---------------------- |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉                   |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12              |
| 参与者   | 影院员工，目的是查看所有电影某日上座率来了解市场情况         |                |                        |
| 触发条件 | 影院员工需要查看所有电影某日上座率                           |                |                        |
| 前置条件 | 1、用户身份为影院员工                                        |                |                        |
| 后置条件 | 无                                                           |                |                        |
| 优先级   | 1000                                                         |                |                        |
| 正常流程 | 1、用户请求查看所有电影某日上座率                            |                |                        |
|          | 2、系统提示输入日期                                          |                |                        |
|          | 3、用户根据提示输入日期                                      |                |                        |
|          | 4、系统返回相应日期的所有电影上座率                          |                |                        |
| 扩展流程 | 4a、用户输入的日期没有排片                                   |                |                        |
|          | 1、系统提示该日期没有排片，返回正常流程第2步                 |                |                        |
| 特殊需求 | 上座率（当日某影片上座率=当日该影片观影人数/∑【当日每场电影放映场次*每场所在影厅的座位数】） |                |                        |



### 用例27 查看每日客单价

| ID       | 0027                                               | 名称           | 查看每日客单价 |
| -------- | -------------------------------------------------- | -------------- | -------------- |
| 创建者   | 江辉                                               | 最后一次更新者 | 江辉           |
| 创建日期 | 2019/5/12                                          | 最后更新日期   | 2019/5/12      |
| 参与者   | 影院员工，目的是查看每日客单价来了解市场情况       |                |                |
| 触发条件 | 影院员工需要查看每日客单价                         |                |                |
| 前置条件 | 1、用户身份为影院员工<br />2、最新市场调研情况已出 |                |                |
| 后置条件 | 无                                                 |                |                |
| 优先级   | 1000                                               |                |                |
| 正常流程 | 1、用户请求查看每日客单价                          |                |                |
|          | 2、系统提示输入需要查看的天数                      |                |                |
|          | 3、用户根据提示输入天数                            |                |                |
|          | 4、系统显示近几天每日客单价                        |                |                |
| 扩展流程 | 无                                                 |                |                |
|          |                                                    |                |                |
| 特殊需求 | 客单价（观众购票所花总金额/购票次数）              |                |                |



### 用例28 发布优惠活动

| ID       | 0028                                                         | 名称           | 发布优惠活动 |
| -------- | ------------------------------------------------------------ | -------------- | ------------ |
| 创建者   | 江辉                                                         | 最后一次更新者 | 江辉         |
| 创建日期 | 2019/5/12                                                    | 最后更新日期   | 2019/5/12    |
| 参与者   | 影院员工，目的是发布的优惠活动，激发市场活力                 |                |              |
| 触发条件 | 影院员工需要在系统添加优惠活动                               |                |              |
| 前置条件 | 1、用户身份为影院员工                                        |                |              |
| 后置条件 | 1、系统中优惠活动发生预期中的更改                            |                |              |
| 优先级   | 1000                                                         |                |              |
| 正常流程 | 1、用户请求发布优惠活动                                      |                |              |
|          | 2、系统提示输入活动进行时间区间，优惠券的使用有效期，优惠金额及参与条件 |                |              |
|          | 3、用户输入活动进行时间区间，优惠券使用有效期，优惠金额，参与条件并确认 |                |              |
|          | 4、系统提示优惠活动发布成功                                  |                |              |
| 扩展流程 | 4a、用户输入的活动截止时间在当天之前                         |                |              |
|          | 1、系统提示截止时间应在当天之后并返回正常流程第2步           |                |              |
|          | 4b、用户输入的优惠券使用有效期在当天之前                     |                |              |
|          | 1、系统提示截止时间应在当天之后并返回正常流程第2步           |                |              |
|          | 4c、用户输入的金额为负数                                     |                |              |
|          | 1、系统提示金额应为非负数并返回正常流程第2步                 |                |              |
| 特殊需求 | 参与条件有两个选项：一个是活动期间进行过购票行为，另一个是购买指定电影 |                |              |



## 5.需求分析模型


### 5.1 系统顺序图


#### 用例1 上架电影

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE-%E4%B8%8A%E6%9E%B6%E5%BD%B1%E7%89%87.jpg#align=left&display=inline&height=818&originHeight=1021&originWidth=931&status=done&width=746)


#### 用例2 查看影片详情

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE-%E6%9F%A5%E7%9C%8B%E5%BD%B1%E7%89%87%E8%AF%A6%E6%83%85.jpg#align=left&display=inline&height=1003&originHeight=1121&originWidth=834&status=done&width=746)


#### 用例3 统计预售影片想看人数

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE-%E7%BB%9F%E8%AE%A1%E9%A2%84%E5%94%AE%E5%BD%B1%E7%89%87%E7%9A%84%E6%83%B3%E7%9C%8B%E4%BA%BA%E6%95%B0.jpg#align=left&display=inline&height=1003&originHeight=1121&originWidth=834&status=done&width=746)


#### 用例4 标记影片为想看

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE-%E6%A0%87%E8%AE%B0%E6%9F%90%E7%94%B5%E5%BD%B1%E4%B8%BA%E6%83%B3%E7%9C%8B.jpg#align=left&display=inline&height=1007&originHeight=1007&originWidth=686&status=done&width=686)


#### 用例5 搜索电影

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE/%E6%B5%81%E7%A8%8B%E5%9B%BE-%E6%90%9C%E7%B4%A2%E7%94%B5%E5%BD%B1.jpg#align=left&display=inline&height=814&originHeight=814&originWidth=544&status=done&width=544)


### 5.2 概念类图


#### 用例1 上架影片

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE-%E4%B8%8A%E6%9E%B6%E5%BD%B1%E7%89%87.jpg#align=left&display=inline&height=507&originHeight=519&originWidth=764&status=done&width=746)


#### 用例2 查看影片详情

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE-%E6%9F%A5%E7%9C%8B%E5%B7%B2%E4%B8%8A%E6%9E%B6%E7%94%B5%E5%BD%B1.jpg#align=left&display=inline&height=562&originHeight=562&originWidth=334&status=done&width=334)


#### 用例3 统计预售影片想看人数

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE-%E7%BB%9F%E8%AE%A1%E9%A2%84%E5%94%AE%E5%BD%B1%E7%89%87%E7%9A%84%E6%83%B3%E7%9C%8B%E4%BA%BA%E6%95%B0.jpg#align=left&display=inline&height=491&originHeight=493&originWidth=749&status=done&width=746)


#### 用例4 标记影片为想看

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE-%E6%A0%87%E8%AE%B0%E6%9F%90%E7%94%B5%E5%BD%B1%E4%B8%BA%E6%83%B3%E7%9C%8B.jpg#align=left&display=inline&height=504&originHeight=504&originWidth=721&status=done&width=721)


#### 用例5 搜索电影

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE-%E6%90%9C%E7%B4%A2%E7%94%B5%E5%BD%B1(%E6%97%A5%E6%9C%9F%EF%BC%8C%E5%90%8D%E7%A7%B0%E7%AD%89).jpg#align=left&display=inline&height=488&originHeight=491&originWidth=750&status=done&width=746)


### 5.3状态图


#### 用例1 上架影片

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE-%E4%B8%8A%E6%9E%B6%E5%BD%B1%E7%89%87.jpg#align=left&display=inline&height=308&originHeight=530&originWidth=1282&status=done&width=746)


#### 用例2 查看影片详情

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE-%E6%9F%A5%E7%9C%8B%E5%BD%B1%E7%89%87%E8%AF%A6%E6%83%85.jpg#align=left&display=inline&height=351&originHeight=589&originWidth=1252&status=done&width=746)


#### 用例3 统计预售影片想看人数

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE-%E6%90%9C%E7%B4%A2%E7%94%B5%E5%BD%B1(%E6%97%A5%E6%9C%9F%EF%BC%8C%E5%90%8D%E7%A7%B0%E7%AD%89).jpg#align=left&display=inline&height=401&originHeight=538&originWidth=1001&status=done&width=746)


#### 用例4 标记影片为想看

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE-%E6%A0%87%E8%AE%B0%E5%BD%B1%E7%89%87%E4%B8%BA%E6%83%B3%E7%9C%8B.jpg#align=left&display=inline&height=449&originHeight=473&originWidth=786&status=done&width=746)


#### 用例5 搜索电影

![](https://raw.githubusercontent.com/D-Mer/learngit/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE/%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%9B%BE-%E8%B4%AD%E7%A5%A8.jpg#align=left&display=inline&height=522&originHeight=522&originWidth=521&status=done&width=521)
